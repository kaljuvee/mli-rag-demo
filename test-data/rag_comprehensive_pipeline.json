{
  "test": "comprehensive_rag_pipeline",
  "success": true,
  "analysis_timestamp": "2025-09-18",
  "portfolio_overview": {
    "total_properties": 100,
    "vector_dimensions": 128,
    "marketed_properties": 0
  },
  "similarity_analysis": {
    "success": true,
    "top_similar_properties": 5,
    "avg_similarity_score": 0.7382519208695661,
    "top_matches": [
      {
        "property_id": 1.0,
        "industrial_estate_name": "Ivory Wharf 66",
        "unit_name": "Unit 1",
        "region": "Midlands",
        "latitude": 51.9272702487486,
        "longitude": -0.9874839906786383,
        "car_parking_spaces": null,
        "size_sqm": 7508.7294777108245,
        "build_year": 1999.0,
        "yard_depth_m": 0.0,
        "min_eaves_m": 4.0,
        "max_eaves_m": 5.2,
        "doors": null,
        "epc_rating": "Not Available",
        "is_marketed": 0,
        "similarity_score": 1.0
      },
      {
        "property_id": 38.0,
        "industrial_estate_name": "Verdant Vista 27",
        "unit_name": "Unit 10",
        "region": "South East",
        "latitude": 49.98574490824136,
        "longitude": -1.0748948681457962,
        "car_parking_spaces": null,
        "size_sqm": 2138.5810998580587,
        "build_year": 2003.0,
        "yard_depth_m": 0.0,
        "min_eaves_m": 0.0,
        "max_eaves_m": 6.5,
        "doors": null,
        "epc_rating": "A",
        "is_marketed": 0,
        "similarity_score": 0.7999077533989188
      },
      {
        "property_id": 8.0,
        "industrial_estate_name": "Ivory Wharf 66",
        "unit_name": "Unit 8",
        "region": "Midlands",
        "latitude": 51.92831339368345,
        "longitude": -0.9876822869995581,
        "car_parking_spaces": null,
        "size_sqm": 1877.7051288832697,
        "build_year": 1997.0,
        "yard_depth_m": 0.0,
        "min_eaves_m": 4.0,
        "max_eaves_m": 5.2,
        "doors": null,
        "epc_rating": "Not Available",
        "is_marketed": 0,
        "similarity_score": 0.7966462151331053
      }
    ]
  },
  "cluster_analysis": {
    "success": true,
    "n_clusters": 3,
    "cluster_summary": {
      "cluster_0": {
        "size": 42,
        "avg_size_sqm": 4443.165810695289,
        "avg_build_year": 1991.8333333333333,
        "regions": {
          "London": 16,
          "South East": 10,
          "North West": 10,
          "Midlands": 6
        },
        "marketed_count": 0,
        "sample_properties": [
          {
            "industrial_estate_name": "Ivory Wharf 66",
            "unit_name": "Unit 5",
            "region": "Midlands",
            "size_sqm": 2857.252395484208
          },
          {
            "industrial_estate_name": "Ivory Wharf 66",
            "unit_name": "Unit 9",
            "region": "Midlands",
            "size_sqm": 6181.949387445371
          },
          {
            "industrial_estate_name": "Ivory Wharf 66",
            "unit_name": "Unit 10",
            "region": "Midlands",
            "size_sqm": 829.9635717370993
          }
        ]
      },
      "cluster_1": {
        "size": 17,
        "avg_size_sqm": 30303.51360918234,
        "avg_build_year": 1993.1176470588234,
        "regions": {
          "North West": 7,
          "London": 4,
          "Yorks. & Humber": 3,
          "South East": 2,
          "Midlands": 1
        },
        "marketed_count": 0,
        "sample_properties": [
          {
            "industrial_estate_name": "Sable Mill 91",
            "unit_name": "Unit 1",
            "region": "South East",
            "size_sqm": 16901.508847232537
          },
          {
            "industrial_estate_name": "Verdant Vista 27",
            "unit_name": "Unit 9",
            "region": "South East",
            "size_sqm": 31179.26264952395
          },
          {
            "industrial_estate_name": "Opal Pavilion 69",
            "unit_name": "Unit 2",
            "region": "London",
            "size_sqm": 23322.800720916737
          }
        ]
      },
      "cluster_2": {
        "size": 41,
        "avg_size_sqm": 4658.98890797402,
        "avg_build_year": 1995.560975609756,
        "regions": {
          "South East": 16,
          "Midlands": 12,
          "London": 9,
          "North West": 3,
          "Yorks. & Humber": 1
        },
        "marketed_count": 0,
        "sample_properties": [
          {
            "industrial_estate_name": "Ivory Wharf 66",
            "unit_name": "Unit 1",
            "region": "Midlands",
            "size_sqm": 7508.7294777108245
          },
          {
            "industrial_estate_name": "Ivory Wharf 66",
            "unit_name": "Unit 2",
            "region": "Midlands",
            "size_sqm": 13612.939195967338
          },
          {
            "industrial_estate_name": "Ivory Wharf 66",
            "unit_name": "Unit 3",
            "region": "Midlands",
            "size_sqm": 4065.1568376477458
          }
        ]
      }
    },
    "largest_cluster_size": 42
  },
  "homogeneity_analysis": {
    "success": true,
    "overall_homogeneity": 0.7268521048372708,
    "marketed_vs_portfolio": 0.0,
    "homogeneity_coefficient": 8.553310241410118
  },
  "insights": {
    "portfolio_diversity_score": 0.2731478951627292,
    "most_similar_avg": 0.7382519208695661,
    "cluster_distribution": {
      "cluster_0": 42,
      "cluster_1": 17,
      "cluster_2": 41
    }
  },
  "individual_results": {
    "similarity_result": {
      "success": true,
      "query_type": "similarity_search",
      "target_property_id": null,
      "target_features": null,
      "top_k": 5,
      "results": [
        {
          "property_id": 1.0,
          "industrial_estate_name": "Ivory Wharf 66",
          "unit_name": "Unit 1",
          "region": "Midlands",
          "latitude": 51.9272702487486,
          "longitude": -0.9874839906786383,
          "car_parking_spaces": null,
          "size_sqm": 7508.7294777108245,
          "build_year": 1999.0,
          "yard_depth_m": 0.0,
          "min_eaves_m": 4.0,
          "max_eaves_m": 5.2,
          "doors": null,
          "epc_rating": "Not Available",
          "is_marketed": 0,
          "similarity_score": 1.0
        },
        {
          "property_id": 38.0,
          "industrial_estate_name": "Verdant Vista 27",
          "unit_name": "Unit 10",
          "region": "South East",
          "latitude": 49.98574490824136,
          "longitude": -1.0748948681457962,
          "car_parking_spaces": null,
          "size_sqm": 2138.5810998580587,
          "build_year": 2003.0,
          "yard_depth_m": 0.0,
          "min_eaves_m": 0.0,
          "max_eaves_m": 6.5,
          "doors": null,
          "epc_rating": "A",
          "is_marketed": 0,
          "similarity_score": 0.7999077533989188
        },
        {
          "property_id": 8.0,
          "industrial_estate_name": "Ivory Wharf 66",
          "unit_name": "Unit 8",
          "region": "Midlands",
          "latitude": 51.92831339368345,
          "longitude": -0.9876822869995581,
          "car_parking_spaces": null,
          "size_sqm": 1877.7051288832697,
          "build_year": 1997.0,
          "yard_depth_m": 0.0,
          "min_eaves_m": 4.0,
          "max_eaves_m": 5.2,
          "doors": null,
          "epc_rating": "Not Available",
          "is_marketed": 0,
          "similarity_score": 0.7966462151331053
        },
        {
          "property_id": 29.0,
          "industrial_estate_name": "Verdant Vista 27",
          "unit_name": "Unit 1",
          "region": "South East",
          "latitude": 49.986073550062606,
          "longitude": -1.0738687266632283,
          "car_parking_spaces": null,
          "size_sqm": 9024.169249169625,
          "build_year": 1980.0,
          "yard_depth_m": 0.0,
          "min_eaves_m": 0.0,
          "max_eaves_m": 6.5,
          "doors": null,
          "epc_rating": "C",
          "is_marketed": 0,
          "similarity_score": 0.7938802691951887
        },
        {
          "property_id": 2.0,
          "industrial_estate_name": "Ivory Wharf 66",
          "unit_name": "Unit 2",
          "region": "Midlands",
          "latitude": 51.9287831988024,
          "longitude": -0.9882912158862296,
          "car_parking_spaces": null,
          "size_sqm": 13612.939195967338,
          "build_year": 1975.0,
          "yard_depth_m": 0.0,
          "min_eaves_m": 4.0,
          "max_eaves_m": 5.2,
          "doors": null,
          "epc_rating": "Not Available",
          "is_marketed": 0,
          "similarity_score": 0.7936347098539401
        }
      ],
      "total_properties_searched": 100,
      "avg_similarity": 0.7382519208695661,
      "error": null
    },
    "cluster_result": {
      "success": true,
      "query_type": "cluster_analysis",
      "n_clusters": 3,
      "total_properties": 100,
      "cluster_centers": [
        [
          0.4443165810695289,
          0.41833333333333333,
          0.5657142857142857,
          0.5111525866185054,
          0.5068221284240365,
          0.49642753505035797,
          0.503784876742262,
          0.5093989071423516,
          0.40889008378407193,
          0.46154635025194846,
          0.5129220923047525,
          0.4764333175418888,
          0.4854344826435639,
          0.5745349420530836,
          0.5313051636119933,
          0.4264823471095849,
          0.42963775541591886,
          0.4029302984164371,
          0.4220927419108246,
          0.5615544274188332,
          0.5753433413717939,
          0.4614656551205607,
          0.5228885094879371,
          0.48000955218317076,
          0.5372278024291202,
          0.5907657051930513,
          0.5489246069821866,
          0.5353562431514123,
          0.556577764909489,
          0.45306373908397796,
          0.39639717883501124,
          0.5583106930522788,
          0.5777533280736749,
          0.4215926815755166,
          0.39040556526609754,
          0.46151696358754024,
          0.486985541271389,
          0.5358569615707353,
          0.49648464392328984,
          0.4295944620615742,
          0.4958066023778639,
          0.5616573578383477,
          0.46443810457906803,
          0.49211564850843487,
          0.48711827023711063,
          0.45501536525221425,
          0.5416439959464361,
          0.5352804134183098,
          0.6120348795450573,
          0.49589883372415355,
          0.5519557701660552,
          0.4151787593249103,
          0.500873144613952,
          0.45360291181652845,
          0.5246267506888338,
          0.5046067888855301,
          0.5922416219618192,
          0.4518810981316082,
          0.57222736915556,
          0.489517767768251,
          0.45800663706682976,
          0.4615263648362976,
          0.589599133930527,
          0.4628772996611852,
          0.5716492307559718,
          0.5466460346962594,
          0.5382923700060291,
          0.4572468349975378,
          0.4817218580230067,
          0.5141251309262063,
          0.4440457496631516,
          0.5141526200245097,
          0.5491322063727437,
          0.45045426796322907,
          0.5136838432476325,
          0.46699100279552086,
          0.46968563089757265,
          0.4574510549501751,
          0.5503773638450657,
          0.5719954627735999,
          0.5349206848588288,
          0.5801269646880304,
          0.5263306335998411,
          0.4323977967304229,
          0.4294666320453464,
          0.4253195402245481,
          0.48894252188816023,
          0.5020467890728179,
          0.3703863049074675,
          0.4230396197193967,
          0.5325235278424687,
          0.4822743642387857,
          0.5323054315360981,
          0.42710835707481054,
          0.5523998808076486,
          0.4823114797356813,
          0.5847632682076492,
          0.364759672731375,
          0.5004535392198055,
          0.4977838719266042,
          0.5237185928945982,
          0.5352934656068734,
          0.507660557451161,
          0.39283277127190114,
          0.5383247209167199,
          0.5139499651931208,
          0.5246081146420107,
          0.4102907954502743,
          0.39440059512382064,
          0.5157948530943467,
          0.4880239492564401,
          0.45320860820797604,
          0.4693796814940402,
          0.5303252659290141,
          0.48764297468131135,
          0.4758959649222997,
          0.6137035754620818,
          0.436509382590535,
          0.4946095214069928,
          0.48768917412346013,
          0.5696872455309383,
          0.5077445297312108,
          0.4977102006310523,
          0.4711782067541363,
          0.496654446614435,
          0.513998173796485,
          0.49276461778798514,
          0.4313632823224598
        ],
        [
          3.030351360918235,
          0.43117647058823527,
          0.3582352941176471,
          0.4775557866467229,
          0.4260308689116532,
          0.5295460432734709,
          0.45662367637494483,
          0.6439352739790548,
          0.672380105019528,
          0.4638228106180205,
          0.4274358415393342,
          0.5669575016044124,
          0.41550679438231053,
          0.5047789573608473,
          0.38513578523716696,
          0.47733445474800873,
          0.42367449431209936,
          0.4926459928148365,
          0.6433060128874408,
          0.502264686605086,
          0.4119162676266882,
          0.4398428038501405,
          0.5396775071247852,
          0.5036325757714593,
          0.4881572113508232,
          0.4766737684042375,
          0.34917959640181884,
          0.49236698627849385,
          0.3896398204305288,
          0.6000566055828659,
          0.458997397208546,
          0.43176588930494697,
          0.4035562977764082,
          0.6291237764861138,
          0.5834499332542545,
          0.4684675153185937,
          0.4518220577907125,
          0.24155737017771806,
          0.5304297566820584,
          0.46657111166103943,
          0.4054359440240149,
          0.5336567679188653,
          0.396688568015222,
          0.5369342504351926,
          0.5148591633781623,
          0.5157787523504087,
          0.4636390044151677,
          0.4844069461700191,
          0.5774658546737542,
          0.4788216936394481,
          0.4987378951754646,
          0.6123127224567202,
          0.5372957819114111,
          0.5396323820304081,
          0.6033385650733116,
          0.5090366664305755,
          0.5009806113948052,
          0.422044298973647,
          0.5048972305878207,
          0.4231862980064629,
          0.4788721947171809,
          0.5636684572249558,
          0.6099976931145086,
          0.481764817688168,
          0.4376185198198941,
          0.6045020799795622,
          0.6205602727550315,
          0.3832858886694748,
          0.3784404723072165,
          0.6419276478335376,
          0.6060439546767354,
          0.6195073099568573,
          0.5052309162435981,
          0.5327730168355729,
          0.5716870803970157,
          0.5228432690630022,
          0.5322175986208386,
          0.41516155577940217,
          0.4402482461266791,
          0.48126544532147464,
          0.4341348988063711,
          0.5844430207696542,
          0.5245924374770635,
          0.4438810315218323,
          0.4154816294178244,
          0.45263146903579604,
          0.5223407617457353,
          0.5210209753970554,
          0.5278238702167228,
          0.4747212130144556,
          0.42972540861032527,
          0.5132209028681821,
          0.5163957504169326,
          0.5722030690844258,
          0.5292302174881485,
          0.5875363341266284,
          0.5694277458628485,
          0.4986208628154082,
          0.4315425224668282,
          0.4104265559515044,
          0.5497633693993537,
          0.5585086697846047,
          0.4507042423381659,
          0.6017080526769351,
          0.47220773419753326,
          0.4183211325469902,
          0.5594883446972364,
          0.5759225983710701,
          0.41668723844939093,
          0.5713815459484894,
          0.4876121046764993,
          0.4140766302692837,
          0.47945125593493104,
          0.5890504508672394,
          0.4047408144879393,
          0.34237630205346997,
          0.5324881182874657,
          0.4040917260043284,
          0.5467094747394857,
          0.5847180457568583,
          0.5351591363292325,
          0.43344590999930116,
          0.5210977618105617,
          0.42667292867890805,
          0.47286388099425813,
          0.42109969621274423,
          0.5795832319649019,
          0.5481569356496182
        ],
        [
          0.46589889079740193,
          0.455609756097561,
          0.7546341463414634,
          0.4350051942009924,
          0.47063564094857707,
          0.45979914578588205,
          0.4799518183479785,
          0.40600182254989237,
          0.47861607842871867,
          0.49506787316721906,
          0.5062758026074486,
          0.5304726616814468,
          0.5859763109934075,
          0.44141050718875685,
          0.4276021996590277,
          0.6303963763330643,
          0.535880030203695,
          0.5444118823316781,
          0.4823974499272126,
          0.4042589311222382,
          0.49897357577370544,
          0.4813542827425747,
          0.4013945623170385,
          0.5045490186448021,
          0.4625300959753524,
          0.41548332299660534,
          0.48097155823528076,
          0.45932734239139933,
          0.5143092050995852,
          0.42632497973733263,
          0.5545584786391934,
          0.5520837526363457,
          0.47621493011336974,
          0.5127209317039452,
          0.48965676147982695,
          0.5054208813889941,
          0.594381847949299,
          0.48556224797801784,
          0.3966069882214256,
          0.511758844577739,
          0.4633405926865156,
          0.5189430638334565,
          0.5896536238118093,
          0.399528480828677,
          0.38110454876285765,
          0.5186513240016396,
          0.6010083813012737,
          0.44082430416901736,
          0.47353981584048827,
          0.48283480301980813,
          0.4843664256002711,
          0.43133175918575306,
          0.44943333088220083,
          0.5274914835085238,
          0.5165945331586785,
          0.3528647633651871,
          0.5078052387528601,
          0.4740953670031158,
          0.4629705781414,
          0.45976565204073633,
          0.5446718410869285,
          0.5744056316827234,
          0.46221779981733435,
          0.4372738037078362,
          0.48255969205748545,
          0.48850659813059705,
          0.5006112457242536,
          0.469640427081584,
          0.7115197690013301,
          0.4855011433959204,
          0.49982915655334376,
          0.41921641495636897,
          0.5171150505758335,
          0.4566888214330691,
          0.48902475321869593,
          0.4622201126276683,
          0.4253830812133639,
          0.47642075782303567,
          0.38012159760437125,
          0.5459941815931455,
          0.5150987279764073,
          0.4178018853676434,
          0.5502887963277964,
          0.5102340770951315,
          0.5074334068793404,
          0.44810987929603224,
          0.4983723358862653,
          0.5781765966833126,
          0.5266341716714364,
          0.5007616940466928,
          0.5616179303247467,
          0.5306680805637848,
          0.43884248786941515,
          0.6698767224346691,
          0.4611615405212046,
          0.4754838517376553,
          0.5204511552311133,
          0.5891653104112904,
          0.46162110063232203,
          0.552815135927415,
          0.5262739805418596,
          0.5002172510291406,
          0.5431893929099494,
          0.557683602553141,
          0.4859839807929536,
          0.4988333785439618,
          0.4017043395410578,
          0.527552120210694,
          0.4789912449190519,
          0.5105501693587363,
          0.5393967150310077,
          0.5062891061025652,
          0.5223021383795825,
          0.5123822230287048,
          0.5813434772757302,
          0.5046000421994409,
          0.5193353781585135,
          0.48550608815688867,
          0.47709745555472066,
          0.49944711225383237,
          0.407038986043646,
          0.46547192781530494,
          0.5089732155673288,
          0.4824531790355745,
          0.4856998134642297,
          0.42548286085743525,
          0.49559432140635074,
          0.5817671978149618
        ]
      ],
      "cluster_assignments": [
        2,
        2,
        2,
        2,
        0,
        2,
        2,
        2,
        0,
        0,
        2,
        2,
        0,
        2,
        0,
        0,
        2,
        2,
        1,
        0,
        2,
        2,
        2,
        0,
        2,
        0,
        2,
        2,
        0,
        2,
        2,
        0,
        2,
        2,
        2,
        2,
        1,
        0,
        2,
        1,
        1,
        1,
        0,
        2,
        2,
        1,
        0,
        2,
        0,
        1,
        2,
        1,
        1,
        0,
        2,
        2,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        2,
        2,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        2,
        0,
        0,
        2,
        0,
        0,
        2,
        0,
        0,
        0,
        2,
        1,
        1,
        0,
        2,
        0,
        2
      ],
      "cluster_summary": {
        "cluster_0": {
          "size": 42,
          "avg_size_sqm": 4443.165810695289,
          "avg_build_year": 1991.8333333333333,
          "regions": {
            "London": 16,
            "South East": 10,
            "North West": 10,
            "Midlands": 6
          },
          "marketed_count": 0,
          "sample_properties": [
            {
              "industrial_estate_name": "Ivory Wharf 66",
              "unit_name": "Unit 5",
              "region": "Midlands",
              "size_sqm": 2857.252395484208
            },
            {
              "industrial_estate_name": "Ivory Wharf 66",
              "unit_name": "Unit 9",
              "region": "Midlands",
              "size_sqm": 6181.949387445371
            },
            {
              "industrial_estate_name": "Ivory Wharf 66",
              "unit_name": "Unit 10",
              "region": "Midlands",
              "size_sqm": 829.9635717370993
            }
          ]
        },
        "cluster_1": {
          "size": 17,
          "avg_size_sqm": 30303.51360918234,
          "avg_build_year": 1993.1176470588234,
          "regions": {
            "North West": 7,
            "London": 4,
            "Yorks. & Humber": 3,
            "South East": 2,
            "Midlands": 1
          },
          "marketed_count": 0,
          "sample_properties": [
            {
              "industrial_estate_name": "Sable Mill 91",
              "unit_name": "Unit 1",
              "region": "South East",
              "size_sqm": 16901.508847232537
            },
            {
              "industrial_estate_name": "Verdant Vista 27",
              "unit_name": "Unit 9",
              "region": "South East",
              "size_sqm": 31179.26264952395
            },
            {
              "industrial_estate_name": "Opal Pavilion 69",
              "unit_name": "Unit 2",
              "region": "London",
              "size_sqm": 23322.800720916737
            }
          ]
        },
        "cluster_2": {
          "size": 41,
          "avg_size_sqm": 4658.98890797402,
          "avg_build_year": 1995.560975609756,
          "regions": {
            "South East": 16,
            "Midlands": 12,
            "London": 9,
            "North West": 3,
            "Yorks. & Humber": 1
          },
          "marketed_count": 0,
          "sample_properties": [
            {
              "industrial_estate_name": "Ivory Wharf 66",
              "unit_name": "Unit 1",
              "region": "Midlands",
              "size_sqm": 7508.7294777108245
            },
            {
              "industrial_estate_name": "Ivory Wharf 66",
              "unit_name": "Unit 2",
              "region": "Midlands",
              "size_sqm": 13612.939195967338
            },
            {
              "industrial_estate_name": "Ivory Wharf 66",
              "unit_name": "Unit 3",
              "region": "Midlands",
              "size_sqm": 4065.1568376477458
            }
          ]
        }
      },
      "error": null
    },
    "homogeneity_result": {
      "success": true,
      "query_type": "homogeneity_analysis",
      "total_properties": 100,
      "marketed_properties": 0,
      "overall_homogeneity": 0.7268521048372708,
      "homogeneity_std": 0.08497903136789973,
      "marketed_vs_portfolio": 0.0,
      "marketed_internal_homogeneity": 0.0,
      "homogeneity_coefficient": 8.553310241410118,
      "similarity_distribution": {
        "min": 0.5092329085810732,
        "max": 0.8610546027483925,
        "median": 0.740147169982263
      },
      "error": null
    }
  },
  "error": null
}